#=========================================================================
# MinMax
#=========================================================================

from new_pymtl import *

class MinMax( Model ):

  #-----------------------------------------------------------------------
  # Constructor
  #-----------------------------------------------------------------------

  def __init__( s ):

    s.in0 = InPort  ( 16 )
    s.in1 = InPort  ( 16 )
    s.min = OutPort ( 16 )
    s.max = OutPort ( 16 )

  #-----------------------------------------------------------------------
  # Combinational logic
  #-----------------------------------------------------------------------
  def elaborate_logic( s ):

    @s.combinational
    def comb_logic():

      if s.in0 >= s.in1:
        s.max.value = s.in0
        s.min.value = s.in1
      else:
        s.max.value = s.in1
        s.min.value = s.in0

  #-----------------------------------------------------------------------
  # Line tracing
  #-----------------------------------------------------------------------

  def line_trace( s ):
    return "{} {} () {} {}" \
      .format( s.in0, s.in1,
               s.min, s.max )

